<html>
<head>
<title>Login Page</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
<script type="text/javascript">
  (function(d, s, id){
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'Messenger'));

  window.extAsyncInit = function() {
    document.getElementById('submit').onclick = function(){
      MessengerExtensions.getUserID(function success(uids) {
    // User ID was successfully obtained.

        var psid = uids.psid;
        console.log('psid : '+psid);
        $.ajax({
          url: "https://graph.facebook.com/v2.6/"+psid+"?fields=first_name,last_name,profile_pic&access_token=EAACIzXqKrzYBAHcoQrfpGPsIAQpmgKHU8BFIqTl9ugjia5vesZAIZCk8iRnS6PHzkP2LvLM4I5IQtuho1guZCNTVvkzZBCJ6K0a93QN8QZAO4OW6w3CLiNfqvXUFM7SrPpfZCTxvUBz55px8EUQotS4h8b6ADSCajlntCCM2EzZCgZDZD",
          error: function(error) {
            document.getElementById('userid').innerHTML = 'error '+error;
          },
          type: 'GET', 
          success: function(result){
            document.getElementById('userid').innerHTML = 'Welcome '+ psid+JSON.stringify(result);
          }
      });
         //document.getElementById('userid').innerHTML = 'Welcome'+ psid;
  
    }, function error(err, errorMessage) {      
    // Error handling code
    console.log('error'+errorMessage);
    }); 
    }
};
</script>

<table width="20%" bgcolor="0099CC" align="center">

<tr>
<td colspan=2><center><font size=4><b>HTML Login Page</b></font></center></td>
</tr>

<tr>
<td>Username:</td>
<td><input type="text" size=25 name="userid"></td>
</tr>

<tr>
<td>Password:</td>
<td><input type="Password" size=25 name="pwd"></td>
</tr>

<tr>
<td ><input type="Reset"></td>
<td><input id="submit" type="submit" value="Login"></td>
</tr>


</table>
<div id="userid"></div>
</body>
</html>